{"mappings":"qhBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,gGCAzDH,EAAA,SCAA,I,EAAAI,EAAAJ,EAAA,SCAAK,EAAiB,IAAAC,IAAoBN,EAAA,SAAAO,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WDW5F,MAAAC,GACM,EAAAR,EAAAS,MAAA,WAEN,SAASC,EAAYC,GACnB,GAAIA,EAAc,CAChB,MAAMC,EAAgBD,EACnBE,KAAIC,GAiCX,SACSA,GACP,IAAIC,GAAEA,EAAEC,KAAEA,EAAIC,IAAEA,EAAGC,SAAEA,EAAQC,KAAEA,EAAIC,MAAEA,GAAUN,EAC/C,MAAO,0DAC8CC,mEAGxCE,oBACAD,sIAI+BA,6EAEnBK,EAAApB,wQAOuBiB,oLAIAC,2HAKXC,iY,CA/DjBE,CAAkBR,KACjCS,KAAK,IACRC,SAASC,cAAc,uBAAuBC,UAAYd,C,MAE1DY,SAASC,cAAc,iBAAiBC,UAAYC,G,CARxDC,QAAQC,IAAIrB,GAWZE,EAAYF,GACZgB,SAAAC,cAAA,oBACyCK,iBAAhC,SAAc,MAErB,EAAA9B,EAAA+B,QAAO,WACPP,SAASC,cAAc,iBAAiBC,UAAYC,GAAiB,IAEvE,IAAAK,EAEIR,SAAAS,iBAAkB,qBAMtB,SAASC,EAASC,GAChB,MACMC,EADgBD,EAAME,OAAOC,QAAQ,MACXC,aAAa,mBAC7CX,QAAQC,IAAIO,GACZ,IAAII,EAAShC,EAAaiC,QAAOC,GAAQA,EAAK3B,KAAOqB,IAErDO,aAAaC,QAAQ,UAAW9C,KAAK+C,UAAUL,IAC/C9B,EAAY8B,E,CA8Cd,SAAAb,IAEE,MAAO,sY,CA5DTC,QAAQC,IAAIG,GACZA,EAAgBc,SAAQC,IACtBA,EAAWjB,iBAAiB,QAASI,EAAS,IA4EhD,WAEE,MAAMc,EAAiBxB,SAASC,cAAc,mBACxCwB,EAASzC,EAAaK,KAAIqC,GAAUA,EAAO9B,QACjDQ,QAAQC,IAAI,SAAUoB,GAEtB,MAAME,EAAaF,EAChBpC,KAAIuC,GAASA,EAAMC,MAAM,EAAGD,EAAME,UAClCC,QAAO,CAACC,EAASC,IAAaC,OAAOF,GAAWE,OAAOD,IAAW,GAClEE,QAAQ,GACX/B,QAAQC,IAAIsB,GACZH,EAAeY,YAAcT,C,CAE/BU,GAQAC,OAAmBhC,iBACZ,SAAiBK,IACtB,IAAI4B,EACJ,GACkC,SAAhC5B,EAAME,OAAO2B,QAAQC,QACW,UAAhC9B,EAAME,OAAO2B,QAAQC,OACrB,CAEAF,EADuB5B,EAAME,OAAOC,QAAQ,yBACnBb,cAAc,iB,CAGL,SAAhCU,EAAME,OAAO2B,QAAQC,SACvBF,EAAQrC,YAAcqC,EAAQrC,WAGI,UAAhCS,EAAME,OAAO2B,QAAQC,QACnBC,SAASH,EAAQrC,WAAa,IAChCqC,EAAQrC,YAAcqC,EAAQrC,U","sources":["node_modules/@parcel/runtime-js/lib/runtime-f04e0ac4dc165d1c.js","src/cart.js","src/js/cart-actions.js","node_modules/@parcel/runtime-js/lib/runtime-44e7bd74d9a8b620.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"jqa3N\\\":\\\"cart.c3b68ede.js\\\",\\\"8OQ7p\\\":\\\"icons.349afe89.svg\\\"}\"));","import './js/header.js';\r\nimport './js/cart-actions.js';\r\nimport './js/localStorage.js';\r\nimport './js/form-order.js';\r\nimport './js/footer.js';","import { load, remove, save } from './localStorage.js';\nimport iconsPath from '../images/icons.svg';\n/*\nimport {getLength} from './header.js'\n\nimport {arrProducts} from './index.js'\nexport function getLength() {\n    document.querySelector('#header-length').innerHTML = arrProducts.length;\n   \n}\n*/\n/* берем значення зі сховища*/\nconst cartProducts = load('product');\nconsole.log(cartProducts);\nfunction renderCarts(cartProducts) {\n  if (cartProducts) {\n    const cartItemsHTML = cartProducts\n      .map(product => renderCartProduct(product))\n      .join('');\n    document.querySelector('.cart-shopping-list').innerHTML = cartItemsHTML;\n  } else {\n    document.querySelector('.section-cart').innerHTML = renderCartEmpty();\n  }\n}\nrenderCarts(cartProducts);\n/* видаляємо всі значення при натисканні на кнопку*/\ndocument.querySelector('.delete-all-text').addEventListener('click', () => {\n  //   localStorage.clear();\n  remove('product');\n  document.querySelector('.section-cart').innerHTML = renderCartEmpty();\n});\n/* видалення одного елемента */\n\nlet removeCartItems = document.querySelectorAll('.cart-delete-icon');\nconsole.log(removeCartItems);\nremoveCartItems.forEach(removeItem => {\n  removeItem.addEventListener('click', removeId);\n});\n\nfunction removeId(event) {\n  const ParentElement = event.target.closest('li');\n  const productId = ParentElement.getAttribute('data-product-id');\n  console.log(productId);\n  let newArr = cartProducts.filter(item => item.id !== productId);\n  // totalPrice();\n  localStorage.setItem('product', JSON.stringify(newArr));\n  renderCarts(newArr);\n}\n/* */\n\n/* рендер картки*/\nfunction renderCartProduct(product) {\n  let { id, name, img, category, size, price } = product;\n  return `\n      <li class=\"cart-shopping-item\" data-product-id=${id}>\n      <img\n        class=\"cart-shopping-img\"\n        src=\"${img}\"\n        alt=\"${name}\"\n      />\n      <div class=\"cart-item-info\">\n        <div class=\"cart-info-top\">\n          <p class=\"cart-info-name-product\">${name}</p>\n          <svg class=\"cart-delete-icon\">\n              <use href=\"${iconsPath}#icon-close\"></use>\n          </svg>\n        </div>\n  \n        <ul class=\"cart-properties-list\">\n          <li class=\"cart-properties-item\">\n            <h3 class=\"cart-properties-caption\">Category:</h3>\n            <p class=\"cart-properties-subtitle\">${category}</p>\n          </li>\n          <li class=\"cart-properties-item\">\n            <h3 class=\"cart-properties-caption\">Size:</h3>\n            <p class=\"cart-properties-subtitle\">${size}</p>\n          </li>\n        </ul>\n  \n        <div class=\"cart-info-bottom\">\n          <p class=\"cart-info-price\">${price}</p>\n  \n          <div class=\"cart-counter-wrapper\">\n            <button class=\"cart-counter-decrement\" type=\"button\" data-action=\"minus\">-</button>\n            <span class=\"cart-counter-value\" data-counter>1</span>\n            <button class=\"cart-counter-increment\" type=\"button\" data-action=\"plus\">+</button>\n          </div>\n        </div>\n      </div>\n    </li>\n      `;\n}\n/* рендер пустої корзини*/\nfunction renderCartEmpty() {\n  return `\n  <div class=\"cart-empty\">\n  <img\n    class=\"cart-empty-img\"\n    src=\"../../images/tomatoes.jpg\"\n    alt=\"Empty cart\"\n  />\n  <p class=\"cart-empty-text\">\n    Your basket is <a href=\"#\" class=\"cart-empty-link\">empty...</a>\n  </p>\n  <p class=\"cart-empty-description\">\n    Go to the main page to select your favorite products and add them to the\n    cart.\n  </p>\n</div>\n      `;\n}\n\n/* вирахування загальної ціни*/\nfunction totalPrice() {\n  const spanTotalPrice = document.querySelector('.js-total-price');\n  const prices = cartProducts.map(object => object.price);\n  console.log('prices', prices);\n\n  const totalPrice = prices\n    .map(value => value.slice(1, value.length))\n    .reduce((current, previous) => Number(current) + Number(previous), 0)\n    .toFixed(2);\n  console.log(totalPrice);\n  spanTotalPrice.textContent = totalPrice;\n}\ntotalPrice();\n\n/* розрахунок ціни*/\n\n// function calculatePrice(params) {\n//   const cartProducts = document.querySelector('.cart-products');\n// }\n\n/* кнопки + та - */\nwindow.addEventListener('click', event => {\n  let counter;\n  if (\n    event.target.dataset.action === 'plus' ||\n    event.target.dataset.action === 'minus'\n  ) {\n    const counterWrapper = event.target.closest('.cart-counter-wrapper');\n    counter = counterWrapper.querySelector('[data-counter]');\n  }\n\n  if (event.target.dataset.action === 'plus') {\n    counter.innerHTML = ++counter.innerHTML;\n  }\n\n  if (event.target.dataset.action === 'minus') {\n    if (parseInt(counter.innerHTML) > 1)\n      counter.innerHTML = --counter.innerHTML;\n  }\n});\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"8OQ7p\")).toString();"],"names":["parcelRequire","register","JSON","parse","$31u3U","$e27edc6dc33d0133$exports","URL","resolve","import","meta","url","toString","$b1288dbf763fc82c$var$cartProducts","load","$b1288dbf763fc82c$var$renderCarts","cartProducts1","cartItemsHTML","map","product","id","name","img","category","size","price","$parcel$interopDefault","$b1288dbf763fc82c$var$renderCartProduct","join","document","querySelector","innerHTML","$b1288dbf763fc82c$var$renderCartEmpty","console","log","addEventListener","remove","$b1288dbf763fc82c$var$removeCartItems","querySelectorAll","$b1288dbf763fc82c$var$removeId","event","productId","target","closest","getAttribute","newArr","filter","item","localStorage","setItem","stringify","forEach","removeItem","spanTotalPrice","prices","object","totalPrice1","value","slice","length","reduce","current","previous","Number","toFixed","textContent","$b1288dbf763fc82c$var$totalPrice","window","counter","dataset","action","parseInt"],"version":3,"file":"cart.c3b68ede.js.map"}