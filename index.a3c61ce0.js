!function(){function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},a={},c=n.parcelRequired7c6;null==c&&((c=function(e){if(e in r)return r[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return r[e]=n,t.call(n.exports,n,n.exports),n.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){a[e]=t},n.parcelRequired7c6=c),c.register("iE7OH",(function(t,n){var r,a;e(t.exports,"register",(function(){return r}),(function(e){return r=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var c={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)c[t[n]]=e[t[n]]},a=function(e){var t=c[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),c.register("aNJCr",(function(t,n){var r;e(t.exports,"getBundleURL",(function(){return r}),(function(e){return r=e}));var a={};function c(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=a[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp|(chrome|moz)-extension):\/\/[^)\n]+/g);if(e)return c(e[2])}return"/"}(),a[e]=t),t}})),c("iE7OH").register(JSON.parse('{"EVgbq":"index.a3c61ce0.js","410VS":"icons.bbe5c1e3.svg","iIXJD":"index.95a03535.js"}')),c("b7ONl"),c("UL92Z");var s,o=c("bpxeT"),i=c("2TvXO");s=c("aNJCr").getBundleURL("EVgbq")+c("iE7OH").resolve("410VS");var l=c("i8Q71"),d=c("8nrFW"),u=c("UL92Z");function p(e){var t=this.closest(".filters-wrap"),n=t.querySelector(".filters-down-svg"),r=t.querySelector("ul");r.classList.contains("list-active")?r.classList.remove("list-active"):r.classList.add("list-active"),n.classList.contains("rotate")?n.classList.remove("rotate"):n.classList.add("rotate")}function f(e){this.classList.contains("rotate")?this.classList.remove("rotate"):this.classList.add("rotate"),this.previousElementSibling.classList.contains("list-active")?this.previousElementSibling.classList.remove("list-active"):this.previousElementSibling.classList.add("list-active")}function g(e){var t=document.querySelector(".filters-categories"),n=document.querySelector(".filters-categories-list"),r=e.target.textContent;t.textContent=r,n.classList.remove("list-active"),n.nextElementSibling.classList.remove("rotate")}function v(e){var t=document.querySelector(".filters-allTypes"),n=document.querySelector(".filters-allTypes-list"),r=e.target.textContent;t.textContent=r,n.classList.remove("list-active"),n.nextElementSibling.classList.remove("rotate")}function m(){var e=document.querySelector(".filters-allTypes").textContent.split(" ").join(""),t=document.querySelector(".filters-categories").textContent.split(" ").join("_").replace("/","&"),n=document.querySelector(".filters-input").value,r={category:t,keyword:n,filterSearch:"by".concat(e)},a={category:t,keyword:n,page:1,limit:6};return u.default.save("queryParams",a),console.log(u.default.load("queryParams")),r}function h(e,n){return"byAtoZ"===e||"byShowall"===e?n:"byZtoA"===e?n.reverse():"byLessthan10$"===e?n.filter((function(e){return e.price<10})):"byGreaterthan10$"===e?n.filter((function(e){return e.price>=10})):"byPopular"===e?t(d)(n).filter((function(e){return e.popularity>0})).sort((function(e,t){return t.popularity-e.popularity})):"byNotpopular"===e?n.filter((function(e){return 0===e.popularity})):void 0}var y=c("b7ONl");function b(e,n,r){var a;a="general"===n?e.map((function(e){return r=(n=e).img,a=n.name,c=n.category,o=n.size,i=n.popularity,l=n.price,d=n._id,u=n.is10PercentOff,p=D.some((function(e){return e.id===d})),'\n      <li class="product-card-general">\n          <div class="img-wrapper">\n            <img\n              class="card-img"\n              src="'.concat(r,'"\n              alt="').concat(a,'"\n              loading="lazy"\n            />\n          </div>\n  \n              <div class="general-card-container" >\n                  <h3 class="general-card-title">').concat(a,'</h3>\n                  <div class="general-span-container">\n                  <span class="general-span-info">Category:<span class="span-info-value">').concat(c,'</span></span>\n\n                  <span class="general-span-info">Size:<span class="span-info-value">').concat(o,'</span></span>\n\n                  <span class="general-span-info">Popularity:<span class="span-info-value">').concat(i,'</span></span>\n                  </div>\n              </div>\n    \n              <div class="general-card-price">\n                  <span class="general-span-price">&#36;').concat(l,"</span>\n                  <button data-id=").concat(d,' type="submit" class="addToCart-btn js-addToCart-btn" ').concat(p?"disabled":"",'>\n                      <svg class="cart-svg " width="18" height="18">\n                          <use href="').concat(t(s)).concat(p?"#icon-checkmark":"#icon-shopping-cart",'"></use>\n                         \n                      </svg>  \n                  </button>\n              </div>\n              <svg class="general-discount-svg ').concat(u?"discount-label":"",'" width="60" height="60">\n                <use href="').concat(t(s),'#icon-discount"></use>\n              </svg>\n      </li>\n      ');var n,r,a,c,o,i,l,d,u,p})):"popular"===n?e.map((function(e){return r=(n=e).img,a=n.name,c=n.category,o=n.size,i=n.popularity,l=n._id,d=D.some((function(e){return e.id===l})),'\n        <li class="popular-product-card">\n            <div class="poppular-img-wrapper">\n              <img\n                class="popular-card-img"\n                src="'.concat(r,'"\n                alt="').concat(a,'"\n                loading="lazy"\n              />\n            </div>\n    \n                <div class="popular-card-info" >\n                    <h3 class="popular-card-title">').concat(a,'</h3>\n                    <div class="popular-span-container">\n                    <span class="popular-span-info">Category: <span class="span-info-value">').concat(c,'</span></span>\n                    <span class="popular-span-info">Size: <span class="span-info-value">').concat(o,'</span></span>\n                    <span class="popular-span-info">Popularity: <span class="span-info-value">').concat(i,"</span></span>\n                    </div>\n                </div>\n                    \n                <button data-id=").concat(l,' type="submit" class="popular-card-btn js-addToCart-btn" ').concat(d?"disabled":"",'>\n                    <svg class="popular-cart-svg" width="12" height="12">\n                        <use href="').concat(t(s)).concat(d?"#icon-checkmark":"#icon-shopping-cart",'"></use>\n                    </svg>\n                </button>\n            \n        </li>\n        ');var n,r,a,c,o,i,l,d})):e.map((function(e){return r=(n=e).img,a=n.name,c=n.price,o=n._id,i=D.some((function(e){return e.id===o})),'\n      <li class="discount-product-card">\n      <div class="discount-img-wrapper">\n        <img\n          class="discount-card-img"\n          src="'.concat(r,'"\n          alt="').concat(a,'"\n          loading="lazy"\n        />\n        <svg class="discount-svg-icon" width="60" height="60">\n          <use href="').concat(t(s),'#icon-discount"></use>\n        </svg>\n\n      </div>\n\n      <div class="discount-card-info" >\n          <h3 class="discount-card-title">').concat(a,'</h3>\n\n          <div class="discount-card-price">\n              <span class="span-price">&#36;').concat(c,"</span>\n              <button data-id=").concat(o,' type="submit" class="addToCart-btn js-addToCart-btn" ').concat(i?"disabled":"",'>\n                  <svg class="cart-svg" width="18" height="18">\n                      <use href="').concat(t(s)).concat(i?"#icon-checkmark":"#icon-shopping-cart",'"></use>\n                  </svg>\n              </button>\n          </div>\n      </div>\n  </li>');var n,r,a,c,o,i})),r.innerHTML=a.join("")}o=c("bpxeT"),i=c("2TvXO"),y=c("b7ONl");function S(){var e=document.querySelector(".modal-product-backdrop");e.remove(),e.classList.add("is-hidden"),document.body.classList.remove("is-overflow-hidden")}function L(e){var t=document.querySelector(".modal-product-backdrop");"Escape"===e.key&&(S(),t.classList.add("is-hidden"))}function w(e){var t=document.querySelector(".modal-product-backdrop");e.target===t&&(S(),t.classList.remove("is-hidden"))}function k(e){var n=e.name,r=e.category,a=e.desc,c=e.img,o=e.price,i=e.size,l=e.popularity,d=e._id,u=D.some((function(e){return e.id===d}));return'\n          <div class="modal-product-backdrop" data-modal>\n          <div class="modal-product">\n              <button type="button" class="modal-btn-close" data-modal-close>\n                  <svg class="modal-svg-close" width="28" height="28">\n                      <use href="'.concat(t(s),'#icon-close"></use>\n                  </svg>\n              </button>\n      \n              <div class="modal-product-info">\n                  <div class="modal-product-img-wrapper">\n                    \n                      <img class="modal-product-img" src="').concat(c,'" alt="').concat(n,'" width="1660">\n        \n                  </div>\n      \n                  <div class="modal-product-description">\n                      <h2 class="modal-title">').concat(n,'</h2>\n      \n                      <ul class="modal-product-list">\n                          <li class="modal-product-item">\n                              <h3 class="modal-product-caption">Category:</h3>\n                              <p class="modal-product-content">').concat(r,'</p>\n                          </li>\n                          <li class="modal-product-item">\n                              <h3 class="modal-product-caption">Size:</h3>\n                              <p class="modal-product-content">').concat(i,'</p>\n                          </li>\n                          <li class="modal-product-item">\n                              <h3 class="modal-product-caption">Popularity:</h3>\n                              <p class="modal-product-content">').concat(l,'</p>\n                          </li>\n                      </ul>\n      \n                      <p class="modal-product-text">').concat(a,'</p>\n                  </div>\n              </div>\n      \n              <div class="modal-product-wrapper-price">\n                  <p class="modal-product-price"><span>&#36;</span>').concat(o,"</p>\n                  <button data-id=").concat(d,' type="submit" class="modal-product-btn-price">\n                  ').concat(u?"Remove from":"Add to",' \n                      <svg class="modal-btn-svg" width="18" height="18">\n                          <use class="modal-icon-svg" href="').concat(t(s),'#icon-shopping-cart"></use>\n                      </svg>\n                  </button>\n              </div>\n          </div>\n      </div>\n      ')}function q(e){return x.apply(this,arguments)}function x(){return(x=t(o)(t(i).mark((function e(n){var r,a,c,s;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.target.closest(".js-addToCart-btn")){e.next=2;break}return e.abrupt("return");case 2:return r=n.target.closest("li"),a=r.querySelector(".js-addToCart-btn"),c=a.getAttribute("data-id"),e.next=7,(0,y.getProducttById)(c);case 7:s=e.sent,document.querySelector("body").insertAdjacentHTML("beforeend",k(s)),document.body.classList.add("is-overflow-hidden"),document.querySelector(".modal-btn-close").addEventListener("click",S),document.addEventListener("keydown",L),document.addEventListener("click",w),document.querySelector(".modal-product-btn-price").addEventListener("click",I);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o=c("bpxeT"),i=c("2TvXO"),y=c("b7ONl"),l=c("i8Q71");function E(e){return T.apply(this,arguments)}function T(){return(T=t(o)(t(i).mark((function e(n){var r,a,c,o,d,u,p,f,g,v;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.currentTarget.getAttribute("data-id"),n.currentTarget.querySelector("use").setAttribute("href","".concat(t(s),"#icon-checkmark")),n.currentTarget.setAttribute("disabled","true"),a={},e.prev=5,e.next=8,(0,y.getProducttById)(r);case 8:c=e.sent,console.log(c),o=c.category,d=c.size,u=c._id,p=c.name,f=c.price,g=c.img,a.category=o,a.size=d,a.id=u,a.name=p,a.price=f,a.img=g,e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),console.log(e.t0);case 22:v=window.localStorage,D.push(a),v.setItem("product",JSON.stringify(D)),(0,l.getLength)();case 26:case"end":return e.stop()}}),e,null,[[5,19]])})))).apply(this,arguments)}u=c("UL92Z");var A,C,O=document.querySelector(".filters-form"),P=document.querySelector(".filters-categories"),j=document.querySelector(".filters-allTypes"),H=document.querySelectorAll(".filters-down-svg"),_=document.querySelectorAll(".filters-categories-item"),z=document.querySelectorAll(".filters-allTypes-item"),N=document.querySelector(".products-list-general"),M=document.querySelector(".products-list-discount"),R=document.querySelector(".products-list-popular"),D=[];function I(e){return J.apply(this,arguments)}function J(){return(J=t(o)(t(i).mark((function e(n){var r,a,c,o,d,u,p,f,g,v,m,h;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},n.target.innerText,a=n.currentTarget.getAttribute("data-id"),c=D.some((function(e){return e.id===a}))){e.next=26;break}return n.currentTarget.innerHTML='Remove from <svg class="modal-btn-svg" width="18" height="18">\n                <use class="modal-icon-svg" href="'.concat(t(s),'#icon-shopping-cart"></use>\n                </svg>'),e.prev=6,e.next=9,(0,y.getProducttById)(a);case 9:o=e.sent,d=o.category,u=o.size,p=o._id,f=o.name,g=o.price,v=o.img,r.category=d,r.size=u,r.id=p,r.name=f,r.price=g,r.img=v,e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),console.log(e.t0);case 22:m=window.localStorage,D.push(r),m.setItem("product",JSON.stringify(D)),(0,l.getLength)();case 26:c&&(n.currentTarget.innerHTML='Add to <svg class="modal-btn-svg" width="18" height="18">\n        <use class="modal-icon-svg" href="'.concat(t(s),'#icon-shopping-cart"></use>\n        </svg>'),h=n.currentTarget.getAttribute("data-id"),D=D.filter((function(e){return e.id!==h})),localStorage.setItem("product",JSON.stringify(D)),(0,l.getLength)());case 27:case"end":return e.stop()}}),e,null,[[6,19]])})))).apply(this,arguments)}void 0!==(A=u.default.load("product"))?(document.querySelector("#header-length").innerHTML=A.length,D=A):document.querySelector("#header-length").innerHTML="0",u.default.load("queryParams")||u.default.save("queryParams",{keyword:null,category:null,page:1,limit:6}),document.addEventListener("DOMContentLoaded",t(o)(t(i).mark((function e(){var n,r;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=u.default.load("queryParams"),console.log(n),e.next=5,(0,y.getAllProducts)(n);case 5:return r=e.sent,b(r.results,"general",N),document.querySelectorAll(".product-card-general").forEach((function(e){e.addEventListener("click",q)})),e.next=12,(0,y.getDiscountProducts)();case 12:return b(e.sent,"discount",M),document.querySelectorAll(".discount-product-card").forEach((function(e){e.addEventListener("click",q)})),e.next=18,(0,y.getPopularProducts)();case 18:b(e.sent,"popular",R),document.querySelectorAll(".popular-product-card").forEach((function(e){e.addEventListener("click",q),document.querySelectorAll(".js-addToCart-btn").forEach((function(e){e.addEventListener("click",E)}))})),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(0),console.log(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,24]])})))),P.addEventListener("click",p),j.addEventListener("click",p),H.forEach((function(e){e.addEventListener("click",f)})),_.forEach((function(e){e.addEventListener("click",g)})),z.forEach((function(e){e.addEventListener("click",v)})),O.addEventListener("submit",(C=t(o)(t(i).mark((function e(n){var r,a,c,s,o;return t(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,r=m(),a=r.filterSearch,e.next=6,(0,y.getProductsByQuery)(r);case 6:c=e.sent,s=c.results,o=h(a,s),N.innerHTML="",0===o.length?N.insertAdjacentHTML("beforeend",'\n        <div class="sorry-wrapper">\n            <span class="emoji-sorry">&#128561;</span>\n            <h3 class="sorry-message-text"> Sorry, there are no items matching your filter request!</h3>\n        </div> \n    '):b(o,"general",N),document.querySelectorAll(".discount-product-card").forEach((function(e){e.addEventListener("click",q)})),document.querySelectorAll(".js-addToCart-btn").forEach((function(e){e.addEventListener("click",E)})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[1,17]])}))),function(e){return C.apply(this,arguments)})),c("i8Q71"),c("7hKzD"),c("io1Sh")}();
//# sourceMappingURL=index.a3c61ce0.js.map
