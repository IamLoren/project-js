function e(e,t,n,s){Object.defineProperty(e,t,{get:n,set:s,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s={},a={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in s)return s[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return s[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){a[e]=t},n.parcelRequired7c6=r),r.register("kyEFX",(function(t,n){var s,a;e(t.exports,"register",(function(){return s}),(function(e){return s=e})),e(t.exports,"resolve",(function(){return a}),(function(e){return a=e}));var r={};s=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)r[t[n]]=e[t[n]]},a=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r("kyEFX").register(JSON.parse('{"5ZPII":"index.c8267ef8.js","8OQ7p":"icons.bbe5c1e3.svg","hcbTJ":"index.fa6d724b.js"}')),r("7rYDH"),r("31u3U");var o;o=new URL(r("kyEFX").resolve("8OQ7p"),import.meta.url).toString();var c=r("bUb57"),i=r("31u3U");function l(e){const t=this.closest(".filters-wrap"),n=t.querySelector(".filters-down-svg"),s=t.querySelector("ul");s.classList.contains("list-active")?s.classList.remove("list-active"):s.classList.add("list-active"),n.classList.contains("rotate")?n.classList.remove("rotate"):n.classList.add("rotate")}function d(e){this.classList.contains("rotate")?this.classList.remove("rotate"):this.classList.add("rotate"),this.previousElementSibling.classList.contains("list-active")?this.previousElementSibling.classList.remove("list-active"):this.previousElementSibling.classList.add("list-active")}function u(e){const t=document.querySelector(".filters-categories"),n=document.querySelector(".filters-categories-list"),s=e.target.textContent;t.textContent=s,n.classList.remove("list-active"),n.nextElementSibling.classList.remove("rotate")}function p(e){const t=document.querySelector(".filters-allTypes"),n=document.querySelector(".filters-allTypes-list"),s=e.target.textContent;t.textContent=s,n.classList.remove("list-active"),n.nextElementSibling.classList.remove("rotate")}function g(){const e=document.querySelector(".filters-allTypes").textContent.split(" ").join(""),t=document.querySelector(".filters-categories").textContent.split(" ").join("_").replace("/","&"),n=document.querySelector(".filters-input").value,s={category:t,keyword:n,filterSearch:`by${e}`},a={category:t,keyword:n,page:1,limit:6};return i.default.save("queryParams",a),console.log(i.default.load("queryParams")),s}function m(e,t){return"byAtoZ"===e||"byShowall"===e?t:"byZtoA"===e?t.reverse():"byLessthan10$"===e?t.filter((e=>e.price<10)):"byGreaterthan10$"===e?t.filter((e=>e.price>=10)):"byPopular"===e?[...t].filter((e=>e.popularity>0)).sort(((e,t)=>t.popularity-e.popularity)):"byNotpopular"===e?t.filter((e=>0===e.popularity)):void 0}var v=r("7rYDH");function f(e,n,s){let a;a="general"===n?e.map((e=>function(e){let{img:n,name:s,category:a,size:r,popularity:c,price:i,_id:l,is10PercentOff:d}=e;const u=H.some((e=>e.id===l));return`\n      <li class="product-card-general">\n          <div class="img-wrapper">\n            <img\n              class="card-img"\n              src="${n}"\n              alt="${s}"\n              loading="lazy"\n            />\n          </div>\n  \n              <div class="general-card-container" >\n                  <h3 class="general-card-title">${s}</h3>\n                  <div class="general-span-container">\n                  <span class="general-span-info">Category:<span class="span-info-value">${a}</span></span>\n\n                  <span class="general-span-info">Size:<span class="span-info-value">${r}</span></span>\n\n                  <span class="general-span-info">Popularity:<span class="span-info-value">${c}</span></span>\n                  </div>\n              </div>\n    \n              <div class="general-card-price">\n                  <span class="general-span-price">&#36;${i}</span>\n                  <button data-id=${l} type="submit" class="addToCart-btn js-addToCart-btn" ${u?"disabled":""}>\n                      <svg class="cart-svg " width="18" height="18">\n                          <use href="${t(o)}${u?"#icon-checkmark":"#icon-shopping-cart"}"></use>\n                         \n                      </svg>  \n                  </button>\n              </div>\n              <svg class="general-discount-svg ${d?"discount-label":""}" width="60" height="60">\n                <use href="${t(o)}#icon-discount"></use>\n              </svg>\n      </li>\n      `}(e))):"popular"===n?e.map((e=>function(e){const{img:n,name:s,category:a,size:r,popularity:c,_id:i}=e,l=H.some((e=>e.id===i));return`\n        <li class="popular-product-card">\n            <div class="poppular-img-wrapper">\n              <img\n                class="popular-card-img"\n                src="${n}"\n                alt="${s}"\n                loading="lazy"\n              />\n            </div>\n    \n                <div class="popular-card-info" >\n                    <h3 class="popular-card-title">${s}</h3>\n                    <div class="popular-span-container">\n                    <span class="popular-span-info">Category: <span class="span-info-value">${a}</span></span>\n                    <span class="popular-span-info">Size: <span class="span-info-value">${r}</span></span>\n                    <span class="popular-span-info">Popularity: <span class="span-info-value">${c}</span></span>\n                    </div>\n                </div>\n                    \n                <button data-id=${i} type="submit" class="popular-card-btn js-addToCart-btn" ${l?"disabled":""}>\n                    <svg class="popular-cart-svg" width="12" height="12">\n                        <use href="${t(o)}${l?"#icon-checkmark":"#icon-shopping-cart"}"></use>\n                    </svg>\n                </button>\n            \n        </li>\n        `}(e))):e.map((e=>function(e){const{img:n,name:s,price:a,_id:r}=e,c=H.some((e=>e.id===r));return`\n      <li class="discount-product-card">\n      <div class="discount-img-wrapper">\n        <img\n          class="discount-card-img"\n          src="${n}"\n          alt="${s}"\n          loading="lazy"\n        />\n        <svg class="discount-svg-icon" width="60" height="60">\n          <use href="${t(o)}#icon-discount"></use>\n        </svg>\n\n      </div>\n\n      <div class="discount-card-info" >\n          <h3 class="discount-card-title">${s}</h3>\n\n          <div class="discount-card-price">\n              <span class="span-price">&#36;${a}</span>\n              <button data-id=${r} type="submit" class="addToCart-btn js-addToCart-btn" ${c?"disabled":""}>\n                  <svg class="cart-svg" width="18" height="18">\n                      <use href="${t(o)}${c?"#icon-checkmark":"#icon-shopping-cart"}"></use>\n                  </svg>\n              </button>\n          </div>\n      </div>\n  </li>`}(e))),s.innerHTML=a.join("")}v=r("7rYDH");function y(){const e=document.querySelector(".modal-product-backdrop");e.remove(),e.classList.add("is-hidden"),document.body.classList.remove("is-overflow-hidden")}function h(e){const t=document.querySelector(".modal-product-backdrop");"Escape"===e.key&&(y(),t.classList.add("is-hidden"))}function b(e){const t=document.querySelector(".modal-product-backdrop");e.target===t&&(y(),t.classList.remove("is-hidden"))}function S(e){let{name:n,category:s,desc:a,img:r,price:c,size:i,popularity:l,_id:d}=e;const u=H.some((e=>e.id===d));return`\n          <div class="modal-product-backdrop" data-modal>\n          <div class="modal-product">\n              <button type="button" class="modal-btn-close" data-modal-close>\n                  <svg class="modal-svg-close" width="28" height="28">\n                      <use href="${t(o)}#icon-close"></use>\n                  </svg>\n              </button>\n      \n              <div class="modal-product-info">\n                  <div class="modal-product-img-wrapper">\n                    \n                      <img class="modal-product-img" src="${r}" alt="${n}" width="1660">\n        \n                  </div>\n      \n                  <div class="modal-product-description">\n                      <h2 class="modal-title">${n}</h2>\n      \n                      <ul class="modal-product-list">\n                          <li class="modal-product-item">\n                              <h3 class="modal-product-caption">Category:</h3>\n                              <p class="modal-product-content">${s}</p>\n                          </li>\n                          <li class="modal-product-item">\n                              <h3 class="modal-product-caption">Size:</h3>\n                              <p class="modal-product-content">${i}</p>\n                          </li>\n                          <li class="modal-product-item">\n                              <h3 class="modal-product-caption">Popularity:</h3>\n                              <p class="modal-product-content">${l}</p>\n                          </li>\n                      </ul>\n      \n                      <p class="modal-product-text">${a}</p>\n                  </div>\n              </div>\n      \n              <div class="modal-product-wrapper-price">\n                  <p class="modal-product-price"><span>&#36;</span>${c}</p>\n                  <button data-id=${d} type="submit" class="modal-product-btn-price">\n                  ${u?"Remove from":"Add to"} \n                      <svg class="modal-btn-svg" width="18" height="18">\n                          <use class="modal-icon-svg" href="${t(o)}#icon-shopping-cart"></use>\n                      </svg>\n                  </button>\n              </div>\n          </div>\n      </div>\n      `}async function L(e){if(e.target.closest(".js-addToCart-btn"))return;const t=e.target.closest("li").querySelector(".js-addToCart-btn").getAttribute("data-id"),n=await(0,v.getProducttById)(t);document.querySelector("body").insertAdjacentHTML("beforeend",S(n)),document.body.classList.add("is-overflow-hidden");document.querySelector(".modal-btn-close").addEventListener("click",y),document.addEventListener("keydown",h),document.addEventListener("click",b),document.querySelector(".modal-product-btn-price").addEventListener("click",j)}v=r("7rYDH"),c=r("bUb57");async function $(e){const n=e.currentTarget.getAttribute("data-id");e.currentTarget.querySelector("use").setAttribute("href",`${t(o)}#icon-checkmark`),e.currentTarget.setAttribute("disabled","true");const s={};try{const e=await(0,v.getProducttById)(n);console.log(e);const{category:t,size:a,_id:r,name:o,price:c,img:i}=e;s.category=t,s.size=a,s.id=r,s.name=o,s.price=c,s.img=i}catch(e){console.log(e)}const a=window.localStorage;H.push(s),a.setItem("product",JSON.stringify(H)),(0,c.getLength)()}i=r("31u3U");const w=document.querySelector(".filters-form"),q=document.querySelector(".filters-categories"),E=document.querySelector(".filters-allTypes"),k=document.querySelectorAll(".filters-down-svg"),T=document.querySelectorAll(".filters-categories-item"),A=document.querySelectorAll(".filters-allTypes-item"),C=document.querySelector(".products-list-general"),x=document.querySelector(".products-list-discount"),P=document.querySelector(".products-list-popular");let H=[];async function j(e){const n={},s=(e.target.innerText,e.currentTarget.getAttribute("data-id")),a=H.some((e=>e.id===s));if(!a){e.currentTarget.innerHTML=`Remove from <svg class="modal-btn-svg" width="18" height="18">\n                <use class="modal-icon-svg" href="${t(o)}#icon-shopping-cart"></use>\n                </svg>`;try{const e=await(0,v.getProducttById)(s),{category:t,size:a,_id:r,name:o,price:c,img:i}=e;n.category=t,n.size=a,n.id=r,n.name=o,n.price=c,n.img=i}catch(e){console.log(e)}const a=window.localStorage;H.push(n),a.setItem("product",JSON.stringify(H)),(0,c.getLength)()}if(a){e.currentTarget.innerHTML=`Add to <svg class="modal-btn-svg" width="18" height="18">\n        <use class="modal-icon-svg" href="${t(o)}#icon-shopping-cart"></use>\n        </svg>`;const n=e.currentTarget.getAttribute("data-id");H=H.filter((e=>e.id!==n)),localStorage.setItem("product",JSON.stringify(H)),(0,c.getLength)()}}(()=>{const e=i.default.load("product");void 0!==e?(document.querySelector("#header-length").innerHTML=e.length,H=e):document.querySelector("#header-length").innerHTML="0"})(),i.default.load("queryParams")||i.default.save("queryParams",{keyword:null,category:null,page:1,limit:6}),document.addEventListener("DOMContentLoaded",(async()=>{try{const e=i.default.load("queryParams");console.log(e);const t=await(0,v.getAllProducts)(e);f(t.results,"general",C),document.querySelectorAll(".product-card-general").forEach((e=>{e.addEventListener("click",L)}));f(await(0,v.getDiscountProducts)(),"discount",x),document.querySelectorAll(".discount-product-card").forEach((e=>{e.addEventListener("click",L)}));f(await(0,v.getPopularProducts)(),"popular",P),document.querySelectorAll(".popular-product-card").forEach((e=>{e.addEventListener("click",L);document.querySelectorAll(".js-addToCart-btn").forEach((e=>{e.addEventListener("click",$)}))}))}catch(e){console.log(e)}})),q.addEventListener("click",l),E.addEventListener("click",l),k.forEach((e=>{e.addEventListener("click",d)})),T.forEach((e=>{e.addEventListener("click",u)})),A.forEach((e=>{e.addEventListener("click",p)})),w.addEventListener("submit",(async e=>{e.preventDefault();try{const e=g(),t=e.filterSearch,n=await(0,v.getProductsByQuery)(e),s=m(t,n.results);if(C.innerHTML="",0===s.length){const e='\n        <div class="sorry-wrapper">\n            <span class="emoji-sorry">&#128561;</span>\n            <h3 class="sorry-message-text"> Sorry, there are no items matching your filter request!</h3>\n        </div> \n    ';C.insertAdjacentHTML("beforeend",e)}else f(s,"general",C);document.querySelectorAll(".discount-product-card").forEach((e=>{e.addEventListener("click",L)}));document.querySelectorAll(".js-addToCart-btn").forEach((e=>{e.addEventListener("click",$)}))}catch(e){console.log(e)}})),r("bUb57"),r("epHO8"),r("dr3Kv");
//# sourceMappingURL=index.c8267ef8.js.map
